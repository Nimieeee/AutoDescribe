(()=>{var e={};e.id=672,e.ids=[672],e.modules={2213:e=>{function webpackEmptyContext(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=2213,e.exports=webpackEmptyContext},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9903:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>i});var a=t(7096),r=t(6132),n=t(7284),l=t.n(n),d=t(2564),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);t.d(s,c);let i=["",{children:["review",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1185)),"/Users/mac/Desktop/AutoDescribe/frontend-clean/src/app/review/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5979)),"/Users/mac/Desktop/AutoDescribe/frontend-clean/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/mac/Desktop/AutoDescribe/frontend-clean/src/app/review/page.tsx"],x="/review/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/review/page",pathname:"/review",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},3138:(e,s,t)=>{Promise.resolve().then(t.bind(t,3050))},3050:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ReviewPage});var a=t(784),r=t(9885),n=t(5413);function ReviewPage(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(""),[d,c]=(0,r.useState)([]),[i,o]=(0,r.useState)(null),[x,u]=(0,r.useState)("pending"),[m,p]=(0,r.useState)(!0),[h,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),[j,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("review-auth");"atdb-465@"===e?(s(!0),loadContent()):p(!1)},[]);let handleLogin=()=>{"atdb-465@"===t?(s(!0),localStorage.setItem("review-auth",t),loadContent()):alert("Incorrect password")},loadContent=async()=>{try{let{data:e,error:s}=await n.O.from("generated_content").select(`
          *,
          products (sku, name, brand, category)
        `).order("created_at",{ascending:!1});if(s){console.error("Error loading content:",s);return}c(e||[])}catch(e){console.error("Error loading content:",e)}finally{p(!1)}},updateStatus=async(e,s)=>{try{let{error:t}=await n.O.from("generated_content").update({status:s,updated_at:new Date().toISOString()}).eq("id",e);if(t){console.error("Error updating status:",t);return}c(t=>t.map(t=>t.id===e?{...t,status:s}:t)),i?.id===e&&o(null)}catch(e){console.error("Error updating status:",e)}},saveEdit=async()=>{if(i)try{let{error:e}=await n.O.from("generated_content").update({edited_text:b,updated_at:new Date().toISOString()}).eq("id",i.id);if(e){console.error("Error saving edit:",e),alert("Error saving changes: "+e.message);return}c(e=>e.map(e=>e.id===i.id?{...e,edited_text:b}:e)),o({...i,edited_text:b}),g(!1),alert("Changes saved successfully!")}catch(e){console.error("Error saving edit:",e),alert("Error saving changes. Please try again.")}},f=d.filter(e=>"all"===x||e.status===x),getStatusColor=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},getStatusIcon=e=>{switch(e){case"approved":return"✅";case"rejected":return"❌";default:return"⏳"}};return e?m?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AutoDescribe Review Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Review, edit, and approve AI-generated descriptions"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:loadContent,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"\uD83D\uDD04 Refresh"}),a.jsx("button",{onClick:()=>{s(!1),localStorage.removeItem("review-auth"),l("")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"\uD83D\uDD12 Logout"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Queue"}),a.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:["all","pending","approved","rejected"].map(e=>a.jsx("button",{onClick:()=>u(e),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${x===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===f.length?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"pending"===x?"No pending items":`No ${x} items`}):f.map(e=>(0,a.jsxs)("div",{onClick:()=>o(e),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${i?.id===e.id?"bg-blue-50 border-blue-200":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:`px-2 py-1 text-xs rounded-full ${getStatusColor(e.status)}`,children:[getStatusIcon(e.status)," ",e.status]}),e.quality_score&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Score: ",Math.round(100*e.quality_score),"%"]})]}),a.jsx("h3",{className:"font-medium text-sm text-gray-900 mb-1",children:e.products?.name||"Unknown Product"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.products?.sku," • ",e.content_type]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]}),a.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg shadow",children:i?(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i.products?.name||"Unknown Product"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["SKU: ",i.products?.sku," • ",i.content_type]})]}),(0,a.jsxs)("span",{className:`px-3 py-1 text-sm rounded-full ${getStatusColor(i.status)}`,children:[getStatusIcon(i.status)," ",i.status]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:i.edited_text?"Edited Content":"Generated Content"}),!h&&a.jsx("button",{onClick:()=>{i&&(y(i.edited_text||i.generated_text),g(!0))},className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200",children:"✏️ Edit"})]}),h?(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("textarea",{value:b,onChange:e=>y(e.target.value),className:"w-full h-64 p-4 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Edit the content..."}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:saveEdit,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:"\uD83D\uDCBE Save Changes"}),a.jsx("button",{onClick:()=>{g(!1),y("")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-sm",children:"❌ Cancel"})]})]}):(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-md border",children:[a.jsx("div",{className:"text-gray-900 whitespace-pre-wrap leading-relaxed",children:i.edited_text||i.generated_text}),i.edited_text&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:a.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"✏️ This content has been edited"})})]})]}),i.seo_keywords&&i.seo_keywords.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"SEO Keywords"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.seo_keywords.map((e,s)=>a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},s))})]}),i.quality_score&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Quality Score"}),a.jsx("button",{onClick:()=>v(!j),className:"text-xs text-blue-600 hover:text-blue-800",children:j?"\uD83D\uDD3C Hide Details":"\uD83D\uDD3D Show Details"})]}),(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full ${i.quality_score>=.9?"bg-green-500":i.quality_score>=.7?"bg-blue-500":i.quality_score>=.4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${100*i.quality_score}%`}})}),(0,a.jsxs)("span",{className:"ml-3 text-sm font-semibold text-gray-900",children:[Math.round(100*i.quality_score),"%"]})]}),j&&i.metadata?.score_breakdown&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-md p-4 space-y-3",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"\uD83D\uDCCA 5-Dimensional Scoring System"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"\uD83D\uDD0D Clarity"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[i.metadata.score_breakdown.clarity||0,"/2"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${(i.metadata.score_breakdown.clarity||0)/2*100}%`}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"✂️ Conciseness"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[i.metadata.score_breakdown.conciseness||0,"/2"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:`${(i.metadata.score_breakdown.conciseness||0)/2*100}%`}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"⚠️ Accuracy"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[i.metadata.score_breakdown.technicalAccuracy||0,"/2"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-yellow-500 h-1.5 rounded-full",style:{width:`${(i.metadata.score_breakdown.technicalAccuracy||0)/2*100}%`}})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"\uD83D\uDC54 Professional Tone"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[i.metadata.score_breakdown.professionalTone||0,"/2"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-purple-500 h-1.5 rounded-full",style:{width:`${(i.metadata.score_breakdown.professionalTone||0)/2*100}%`}})})]}),(0,a.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"\uD83C\uDFAF SEO & Engagement"}),(0,a.jsxs)("span",{className:"text-xs font-medium",children:[i.metadata.score_breakdown.seoEngagement||0,"/2"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:`${(i.metadata.score_breakdown.seoEngagement||0)/2*100}%`}})})]})]}),a.jsx("div",{className:"pt-2 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"Overall Quality Level:"}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${i.quality_score>=.9?"bg-green-100 text-green-800":i.quality_score>=.7?"bg-blue-100 text-blue-800":i.quality_score>=.4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:i.quality_score>=.9?"\uD83C\uDFC6 Excellent":i.quality_score>=.7?"✨ Good":i.quality_score>=.4?"\uD83D\uDCDD Fair":"\uD83D\uDEA8 Poor"})]})}),i.metadata.score_breakdown.breakdown&&(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-200",children:[a.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-2",children:"\uD83D\uDCD6 Readability Metrics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Flesch Score:"}),a.jsx("span",{className:"ml-1 font-medium",children:Math.round(i.metadata.score_breakdown.breakdown.fleschScore||0)})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Avg Words/Sentence:"}),a.jsx("span",{className:"ml-1 font-medium",children:Math.round(i.metadata.score_breakdown.breakdown.avgWordsPerSentence||0)})]})]})]})]})]}),"pending"===i.status&&(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>updateStatus(i.id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"✅ Approve"}),a.jsx("button",{onClick:()=>updateStatus(i.id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"❌ Reject"})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Details"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsxs)("p",{children:["Created: ",new Date(i.created_at).toLocaleString()]}),(0,a.jsxs)("p",{children:["Updated: ",new Date(i.updated_at).toLocaleString()]}),(0,a.jsxs)("p",{children:["ID: ",i.id]})]})]})]}):(0,a.jsxs)("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCCB"}),a.jsx("p",{className:"text-gray-500",children:"Select an item from the queue to review"})]})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"\uD83D\uDD12 Content Review Access"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter password to access the review dashboard"})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",value:t,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleLogin(),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter password"})]}),a.jsx("div",{children:a.jsx("button",{onClick:handleLogin,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"\uD83D\uDD13 Access Review Dashboard"})})]})]})})}},5413:(e,s,t)=>{"use strict";t.d(s,{O:()=>r});var a=t(6315);let r=(0,a.createClient)("https://aulrmuonepdwxklhcaez.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF1bHJtdW9uZXBkd3hrbGhjYWV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxMDUxOTIsImV4cCI6MjA3MTY4MTE5Mn0.oiaXgNNXx5U6rcZmxqT1gOTQqtVIUCSjMRr7AUTQM8Q")},1185:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>c});var a=t(5153);let r=(0,a.createProxy)(String.raw`/Users/mac/Desktop/AutoDescribe/frontend-clean/src/app/review/page.tsx`),{__esModule:n,$$typeof:l}=r,d=r.default,c=d}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[299,315,50],()=>__webpack_exec__(9903));module.exports=t})();